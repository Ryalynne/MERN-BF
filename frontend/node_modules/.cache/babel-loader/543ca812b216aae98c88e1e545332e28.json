{"ast":null,"code":"/** Text hyphenation in Javascript.\r\n *  Copyright (C) 2024 Yevhen Tiurin (yevhentiurin@gmail.com)\r\n *  https://github.com/ytiurin/hyphen\r\n *\r\n *  Released under the ISC license\r\n *  https://github.com/ytiurin/hyphen/blob/master/LICENSE\r\n */\n(function (root, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof module === \"object\" && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.createHyphenator = factory();\n  }\n})(this, function () {\n  function createTextReader(setup) {\n    var char1 = \"\";\n    var char2 = \"\";\n    var i = 0;\n    var verifier = setup();\n    return function (text) {\n      while (i < text.length) {\n        char1 = text.charAt(i++);\n        char2 = text.charAt(i);\n        var verified = verifier(char1, char2);\n\n        if (verified !== void 0) {\n          return verified;\n        }\n      }\n    };\n  }\n\n  var isNotLetter = RegExp.prototype.test.bind(/\\s|(?![\\'])[\\!-\\@\\[-\\`\\{-\\~\\u2013-\\u203C]/);\n\n  function createHTMLVerifier() {\n    var skip = false;\n    return function (accumulate, chars) {\n      if (skip) {\n        if (chars[0] === \">\") {\n          accumulate();\n          skip = false;\n        }\n      } else if (chars[0] === \"<\" && (!isNotLetter(chars[1]) || chars[1] === \"/\")) {\n        skip = true;\n      }\n\n      return skip;\n    };\n  }\n\n  function createHyphenCharVerifier(hyphenChar) {\n    var skip = false;\n    return function (accumulate, chars) {\n      if (skip) {\n        if (!isNotLetter(chars[0]) && isNotLetter(chars[1])) {\n          accumulate();\n          skip = false;\n        }\n      } else if (!isNotLetter(chars[0]) && chars[1] === hyphenChar) {\n        skip = true;\n      }\n\n      return skip;\n    };\n  }\n\n  function createHyphenationVerifier(verifiers, minWordLength) {\n    return function () {\n      var accum0 = \"\";\n      var accum = \"\";\n\n      function accumulate() {\n        accum0 += accum;\n        accum = \"\";\n      }\n\n      function resolveWith(value) {\n        accum0 = \"\";\n        accum = \"\";\n        return value;\n      }\n\n      return function (char1, char2) {\n        accum += char1;\n        var skip = verifiers.reduce(function (skip2, verify) {\n          return skip2 || verify(accumulate, [char1, char2]);\n        }, false);\n\n        if (!skip) {\n          if (isNotLetter(char1) && !isNotLetter(char2)) {\n            accumulate();\n          }\n\n          if (!isNotLetter(char1) && isNotLetter(char2)) {\n            if (accum.length >= minWordLength) {\n              return resolveWith([accum0, accum]);\n            } else {\n              accumulate();\n            }\n          }\n        }\n\n        if (char2 === \"\") {\n          if (accum.length < minWordLength || skip) {\n            accumulate();\n          }\n\n          return resolveWith([accum0, accum]);\n        }\n      };\n    };\n  }\n\n  function createCharIterator(str) {\n    var i = 0;\n\n    function nextChar() {\n      return str[i++];\n    }\n\n    return nextChar;\n  }\n\n  function createStringSlicer(str) {\n    var i = 0,\n        slice = str;\n\n    function next() {\n      slice = str.slice(i++);\n\n      if (slice.length < 3) {\n        return;\n      }\n\n      return slice;\n    }\n\n    function isFirstCharacter() {\n      return i === 2;\n    }\n\n    return [next, isFirstCharacter];\n  }\n\n  function hyphenateWord(text, levelsTable, patternTrie, debug, hyphenChar) {\n    var levels = new Array(text.length + 1),\n        loweredText = (\".\" + text.toLocaleLowerCase() + \".\").split(\"\"),\n        wordSlice,\n        letter,\n        triePtr,\n        trieNode,\n        patternLevelsIndex,\n        patternLevels,\n        patternEntityIndex = -1,\n        slicer,\n        nextSlice,\n        isFirstCharacter,\n        nextLetter;\n\n    for (var i = levels.length; i--;) levels[i] = 0;\n\n    slicer = createStringSlicer(loweredText);\n    nextSlice = slicer[0];\n    isFirstCharacter = slicer[1];\n\n    while (wordSlice = nextSlice()) {\n      patternEntityIndex++;\n\n      if (isFirstCharacter()) {\n        patternEntityIndex--;\n      }\n\n      triePtr = patternTrie;\n      nextLetter = createCharIterator(wordSlice);\n\n      while (letter = nextLetter()) {\n        if ((trieNode = triePtr[letter]) === void 0) {\n          break;\n        }\n\n        triePtr = {};\n        patternLevelsIndex = -1;\n\n        switch (Object.prototype.toString.call(trieNode)) {\n          case \"[object Array]\":\n            triePtr = trieNode[0];\n            patternLevelsIndex = trieNode[1];\n            break;\n\n          case \"[object Object]\":\n            triePtr = trieNode;\n            break;\n\n          case \"[object Number]\":\n            patternLevelsIndex = trieNode;\n            break;\n        }\n\n        if (patternLevelsIndex < 0) {\n          continue;\n        }\n\n        if (!levelsTable[patternLevelsIndex].splice) {\n          levelsTable[patternLevelsIndex] = levelsTable[patternLevelsIndex].slice(\"\");\n        }\n\n        patternLevels = levelsTable[patternLevelsIndex];\n\n        for (var k = 0; k < patternLevels.length; k++) levels[patternEntityIndex + k] = Math.max(patternLevels[k], levels[patternEntityIndex + k]);\n      }\n    }\n\n    levels[0] = levels[1] = levels[levels.length - 1] = levels[levels.length - 2] = 0;\n    var hyphenatedText = \"\";\n\n    for (var i = 0; i < levels.length; i++) {\n      hyphenatedText += (levels[i] % 2 === 1 ? hyphenChar : \"\") + text.charAt(i);\n    }\n\n    return hyphenatedText;\n  }\n\n  function start(text, levelsTable, patterns, cache, debug, hyphenChar, skipHTML, minWordLength, isAsync) {\n    function done() {\n      resolveNewText(newText);\n    }\n\n    var newText = \"\",\n        fragments,\n        readText = createTextReader(createHyphenationVerifier((skipHTML ? [createHTMLVerifier()] : []).concat(createHyphenCharVerifier(hyphenChar)), minWordLength)),\n        resolveNewText = function () {};\n\n    function nextTick() {\n      var loopStart = /* @__PURE__ */new Date();\n\n      while ((!isAsync || /* @__PURE__ */new Date() - loopStart < 10) && (fragments = readText(text))) {\n        if (fragments[1]) {\n          var cacheKey = fragments[1].length ? \"~\" + fragments[1] : \"\";\n\n          if (cache[cacheKey] === void 0) {\n            cache[cacheKey] = hyphenateWord(fragments[1], levelsTable, patterns, debug, hyphenChar);\n          }\n\n          fragments[1] = cache[cacheKey];\n        }\n\n        newText += fragments[0] + fragments[1];\n      }\n\n      if (!fragments) {\n        done();\n      } else {\n        setTimeout(nextTick);\n      }\n    }\n\n    if (isAsync) {\n      setTimeout(nextTick);\n      return new Promise(function (resolve) {\n        resolveNewText = resolve;\n      });\n    } else {\n      nextTick();\n      return newText;\n    }\n  }\n\n  var SETTING_DEFAULT_ASYNC = false;\n  var SETTING_DEFAULT_DEBUG = false;\n  var SETTING_DEFAULT_EXCEPTIONS = [];\n  var SETTING_DEFAULT_HTML = true;\n  var SETTING_DEFAULT_HYPH_CHAR = \"\\xAD\";\n  var SETTING_DEFAULT_MIN_WORD_LENGTH = 5;\n  var SETTING_NAME_ASYNC = \"async\";\n  var SETTING_NAME_DEBUG = \"debug\";\n  var SETTING_NAME_EXCEPTIONS = \"exceptions\";\n  var SETTING_NAME_HTML = \"html\";\n  var SETTING_NAME_HYPH_CHAR = \"hyphenChar\";\n  var SETTING_NAME_MIN_WORD_LENGTH = \"minWordLength\";\n\n  var _global = typeof global === \"object\" ? global : typeof window === \"object\" ? window : typeof self === \"object\" ? self : false ? void 0 : {};\n\n  function extend(target, source) {\n    target = target || {};\n\n    for (var key in source) {\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function validateArray(value) {\n    return value instanceof Array;\n  }\n\n  function keyOrDefault(object, key, defaultValue, test) {\n    if (key in object && (test ? test(object[key]) : true)) {\n      return object[key];\n    }\n\n    return defaultValue;\n  }\n\n  function exceptionsFromDefinition(excetionsList, hyphenChar) {\n    return excetionsList.reduce(function (exceptions, exception) {\n      exceptions[\"~\" + exception.replace(/\\-/g, \"\")] = exception.replace(/\\-/g, hyphenChar);\n      return exceptions;\n    }, {});\n  }\n\n  function createHyphenator(patternsDefinition, options) {\n    options = options || {};\n    var asyncMode = keyOrDefault(options, SETTING_NAME_ASYNC, SETTING_DEFAULT_ASYNC),\n        caches = {},\n        debug = keyOrDefault(options, SETTING_NAME_DEBUG, SETTING_DEFAULT_DEBUG),\n        exceptions = {},\n        hyphenChar = keyOrDefault(options, SETTING_NAME_HYPH_CHAR, SETTING_DEFAULT_HYPH_CHAR),\n        levelsTable = patternsDefinition[0].split(\",\"),\n        patterns = JSON.parse(patternsDefinition[1]),\n        minWordLength = keyOrDefault(options, SETTING_NAME_MIN_WORD_LENGTH, SETTING_DEFAULT_MIN_WORD_LENGTH) >> 0,\n        skipHTML = keyOrDefault(options, SETTING_NAME_HTML, SETTING_DEFAULT_HTML),\n        userExceptions = keyOrDefault(options, SETTING_NAME_EXCEPTIONS, SETTING_DEFAULT_EXCEPTIONS, validateArray);\n    var cacheKey = hyphenChar + minWordLength;\n    exceptions[cacheKey] = {};\n\n    if (patternsDefinition[2]) {\n      exceptions[cacheKey] = exceptionsFromDefinition(patternsDefinition[2], hyphenChar);\n    }\n\n    if (userExceptions && userExceptions.length) {\n      exceptions[cacheKey] = extend(exceptions[cacheKey], exceptionsFromDefinition(userExceptions, hyphenChar));\n    }\n\n    caches[cacheKey] = extend({}, exceptions[cacheKey]);\n\n    if (asyncMode && !(\"Promise\" in _global)) {\n      throw new Error(\"Failed to create hyphenator: Could not find global Promise object, needed for hyphenator to work in async mode\");\n    }\n\n    return function (text, options2) {\n      options2 = options2 || {};\n      var localDebug = keyOrDefault(options2, SETTING_NAME_DEBUG, debug),\n          localHyphenChar = keyOrDefault(options2, SETTING_NAME_HYPH_CHAR, hyphenChar),\n          localMinWordLength = keyOrDefault(options2, SETTING_NAME_MIN_WORD_LENGTH, minWordLength) >> 0,\n          localUserExceptions = keyOrDefault(options2, SETTING_NAME_EXCEPTIONS, SETTING_DEFAULT_EXCEPTIONS, validateArray),\n          cacheKey2 = localHyphenChar + localMinWordLength;\n\n      if (!exceptions[cacheKey2] && patternsDefinition[2]) {\n        exceptions[cacheKey2] = exceptionsFromDefinition(patternsDefinition[2], localHyphenChar);\n        caches[cacheKey2] = extend(caches[cacheKey2], exceptions[cacheKey2]);\n      }\n\n      if (localUserExceptions && localUserExceptions.length) {\n        exceptions[cacheKey2] = extend(exceptions[cacheKey2], exceptionsFromDefinition(localUserExceptions, localHyphenChar));\n        caches[cacheKey2] = extend(caches[cacheKey2], exceptions[cacheKey2]);\n      }\n\n      return start(text, levelsTable, patterns, caches[cacheKey2], localDebug, localHyphenChar, skipHTML, localMinWordLength, asyncMode);\n    };\n  }\n\n  return createHyphenator;\n});","map":{"version":3,"sources":["C:/Users/PC/Documents/PROGRAMMING/New folder/MERN-BF/frontend/node_modules/hyphen/hyphen.js"],"names":["root","factory","define","amd","module","exports","createHyphenator","createTextReader","setup","char1","char2","i","verifier","text","length","charAt","verified","isNotLetter","RegExp","prototype","test","bind","createHTMLVerifier","skip","accumulate","chars","createHyphenCharVerifier","hyphenChar","createHyphenationVerifier","verifiers","minWordLength","accum0","accum","resolveWith","value","reduce","skip2","verify","createCharIterator","str","nextChar","createStringSlicer","slice","next","isFirstCharacter","hyphenateWord","levelsTable","patternTrie","debug","levels","Array","loweredText","toLocaleLowerCase","split","wordSlice","letter","triePtr","trieNode","patternLevelsIndex","patternLevels","patternEntityIndex","slicer","nextSlice","nextLetter","Object","toString","call","splice","k","Math","max","hyphenatedText","start","patterns","cache","skipHTML","isAsync","done","resolveNewText","newText","fragments","readText","concat","nextTick","loopStart","Date","cacheKey","setTimeout","Promise","resolve","SETTING_DEFAULT_ASYNC","SETTING_DEFAULT_DEBUG","SETTING_DEFAULT_EXCEPTIONS","SETTING_DEFAULT_HTML","SETTING_DEFAULT_HYPH_CHAR","SETTING_DEFAULT_MIN_WORD_LENGTH","SETTING_NAME_ASYNC","SETTING_NAME_DEBUG","SETTING_NAME_EXCEPTIONS","SETTING_NAME_HTML","SETTING_NAME_HYPH_CHAR","SETTING_NAME_MIN_WORD_LENGTH","_global","global","window","self","extend","target","source","key","validateArray","keyOrDefault","object","defaultValue","exceptionsFromDefinition","excetionsList","exceptions","exception","replace","patternsDefinition","options","asyncMode","caches","JSON","parse","userExceptions","Error","options2","localDebug","localHyphenChar","localMinWordLength","localUserExceptions","cacheKey2"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,UAAUA,IAAV,EAAgBC,OAAhB,EAAyB;AACxB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC9C;AACAD,IAAAA,MAAM,CAAC,EAAD,EAAKD,OAAL,CAAN;AACD,GAHD,MAGO,IAAI,OAAOG,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACC,OAAzC,EAAkD;AACvD;AACA;AACA;AACAD,IAAAA,MAAM,CAACC,OAAP,GAAiBJ,OAAO,EAAxB;AACD,GALM,MAKA;AACL;AACAD,IAAAA,IAAI,CAACM,gBAAL,GAAwBL,OAAO,EAA/B;AACD;AACF,CAbD,EAaG,IAbH,EAaS,YAAY;AACnB,WAASM,gBAAT,CAA0BC,KAA1B,EAAiC;AAC/B,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAIC,CAAC,GAAG,CAAR;AACA,QAAIC,QAAQ,GAAGJ,KAAK,EAApB;AACA,WAAO,UAAUK,IAAV,EAAgB;AACrB,aAAOF,CAAC,GAAGE,IAAI,CAACC,MAAhB,EAAwB;AACtBL,QAAAA,KAAK,GAAGI,IAAI,CAACE,MAAL,CAAYJ,CAAC,EAAb,CAAR;AACAD,QAAAA,KAAK,GAAGG,IAAI,CAACE,MAAL,CAAYJ,CAAZ,CAAR;AACA,YAAIK,QAAQ,GAAGJ,QAAQ,CAACH,KAAD,EAAQC,KAAR,CAAvB;;AACA,YAAIM,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AACvB,iBAAOA,QAAP;AACD;AACF;AACF,KATD;AAUD;;AAED,MAAIC,WAAW,GAAGC,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsBC,IAAtB,CAChB,2CADgB,CAAlB;;AAGA,WAASC,kBAAT,GAA8B;AAC5B,QAAIC,IAAI,GAAG,KAAX;AACA,WAAO,UAAUC,UAAV,EAAsBC,KAAtB,EAA6B;AAClC,UAAIF,IAAJ,EAAU;AACR,YAAIE,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;AACpBD,UAAAA,UAAU;AACVD,UAAAA,IAAI,GAAG,KAAP;AACD;AACF,OALD,MAKO,IACLE,KAAK,CAAC,CAAD,CAAL,KAAa,GAAb,KACC,CAACR,WAAW,CAACQ,KAAK,CAAC,CAAD,CAAN,CAAZ,IAA0BA,KAAK,CAAC,CAAD,CAAL,KAAa,GADxC,CADK,EAGL;AACAF,QAAAA,IAAI,GAAG,IAAP;AACD;;AACD,aAAOA,IAAP;AACD,KAbD;AAcD;;AACD,WAASG,wBAAT,CAAkCC,UAAlC,EAA8C;AAC5C,QAAIJ,IAAI,GAAG,KAAX;AACA,WAAO,UAAUC,UAAV,EAAsBC,KAAtB,EAA6B;AAClC,UAAIF,IAAJ,EAAU;AACR,YAAI,CAACN,WAAW,CAACQ,KAAK,CAAC,CAAD,CAAN,CAAZ,IAA0BR,WAAW,CAACQ,KAAK,CAAC,CAAD,CAAN,CAAzC,EAAqD;AACnDD,UAAAA,UAAU;AACVD,UAAAA,IAAI,GAAG,KAAP;AACD;AACF,OALD,MAKO,IAAI,CAACN,WAAW,CAACQ,KAAK,CAAC,CAAD,CAAN,CAAZ,IAA0BA,KAAK,CAAC,CAAD,CAAL,KAAaE,UAA3C,EAAuD;AAC5DJ,QAAAA,IAAI,GAAG,IAAP;AACD;;AACD,aAAOA,IAAP;AACD,KAVD;AAWD;;AACD,WAASK,yBAAT,CAAmCC,SAAnC,EAA8CC,aAA9C,EAA6D;AAC3D,WAAO,YAAY;AACjB,UAAIC,MAAM,GAAG,EAAb;AACA,UAAIC,KAAK,GAAG,EAAZ;;AACA,eAASR,UAAT,GAAsB;AACpBO,QAAAA,MAAM,IAAIC,KAAV;AACAA,QAAAA,KAAK,GAAG,EAAR;AACD;;AACD,eAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1BH,QAAAA,MAAM,GAAG,EAAT;AACAC,QAAAA,KAAK,GAAG,EAAR;AACA,eAAOE,KAAP;AACD;;AACD,aAAO,UAAUzB,KAAV,EAAiBC,KAAjB,EAAwB;AAC7BsB,QAAAA,KAAK,IAAIvB,KAAT;AACA,YAAIc,IAAI,GAAGM,SAAS,CAACM,MAAV,CAAiB,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACnD,iBAAOD,KAAK,IAAIC,MAAM,CAACb,UAAD,EAAa,CAACf,KAAD,EAAQC,KAAR,CAAb,CAAtB;AACD,SAFU,EAER,KAFQ,CAAX;;AAGA,YAAI,CAACa,IAAL,EAAW;AACT,cAAIN,WAAW,CAACR,KAAD,CAAX,IAAsB,CAACQ,WAAW,CAACP,KAAD,CAAtC,EAA+C;AAC7Cc,YAAAA,UAAU;AACX;;AACD,cAAI,CAACP,WAAW,CAACR,KAAD,CAAZ,IAAuBQ,WAAW,CAACP,KAAD,CAAtC,EAA+C;AAC7C,gBAAIsB,KAAK,CAAClB,MAAN,IAAgBgB,aAApB,EAAmC;AACjC,qBAAOG,WAAW,CAAC,CAACF,MAAD,EAASC,KAAT,CAAD,CAAlB;AACD,aAFD,MAEO;AACLR,cAAAA,UAAU;AACX;AACF;AACF;;AACD,YAAId,KAAK,KAAK,EAAd,EAAkB;AAChB,cAAIsB,KAAK,CAAClB,MAAN,GAAegB,aAAf,IAAgCP,IAApC,EAA0C;AACxCC,YAAAA,UAAU;AACX;;AACD,iBAAOS,WAAW,CAAC,CAACF,MAAD,EAASC,KAAT,CAAD,CAAlB;AACD;AACF,OAvBD;AAwBD,KApCD;AAqCD;;AAED,WAASM,kBAAT,CAA4BC,GAA5B,EAAiC;AAC/B,QAAI5B,CAAC,GAAG,CAAR;;AACA,aAAS6B,QAAT,GAAoB;AAClB,aAAOD,GAAG,CAAC5B,CAAC,EAAF,CAAV;AACD;;AACD,WAAO6B,QAAP;AACD;;AACD,WAASC,kBAAT,CAA4BF,GAA5B,EAAiC;AAC/B,QAAI5B,CAAC,GAAG,CAAR;AAAA,QACE+B,KAAK,GAAGH,GADV;;AAEA,aAASI,IAAT,GAAgB;AACdD,MAAAA,KAAK,GAAGH,GAAG,CAACG,KAAJ,CAAU/B,CAAC,EAAX,CAAR;;AACA,UAAI+B,KAAK,CAAC5B,MAAN,GAAe,CAAnB,EAAsB;AACpB;AACD;;AACD,aAAO4B,KAAP;AACD;;AACD,aAASE,gBAAT,GAA4B;AAC1B,aAAOjC,CAAC,KAAK,CAAb;AACD;;AACD,WAAO,CAACgC,IAAD,EAAOC,gBAAP,CAAP;AACD;;AACD,WAASC,aAAT,CAAuBhC,IAAvB,EAA6BiC,WAA7B,EAA0CC,WAA1C,EAAuDC,KAAvD,EAA8DrB,UAA9D,EAA0E;AACxE,QAAIsB,MAAM,GAAG,IAAIC,KAAJ,CAAUrC,IAAI,CAACC,MAAL,GAAc,CAAxB,CAAb;AAAA,QACEqC,WAAW,GAAG,CAAC,MAAMtC,IAAI,CAACuC,iBAAL,EAAN,GAAiC,GAAlC,EAAuCC,KAAvC,CAA6C,EAA7C,CADhB;AAAA,QAEEC,SAFF;AAAA,QAGEC,MAHF;AAAA,QAIEC,OAJF;AAAA,QAKEC,QALF;AAAA,QAMEC,kBANF;AAAA,QAOEC,aAPF;AAAA,QAQEC,kBAAkB,GAAG,CAAC,CARxB;AAAA,QASEC,MATF;AAAA,QAUEC,SAVF;AAAA,QAWElB,gBAXF;AAAA,QAYEmB,UAZF;;AAaA,SAAK,IAAIpD,CAAC,GAAGsC,MAAM,CAACnC,MAApB,EAA4BH,CAAC,EAA7B,GAAmCsC,MAAM,CAACtC,CAAD,CAAN,GAAY,CAAZ;;AACnCkD,IAAAA,MAAM,GAAGpB,kBAAkB,CAACU,WAAD,CAA3B;AACAW,IAAAA,SAAS,GAAGD,MAAM,CAAC,CAAD,CAAlB;AACAjB,IAAAA,gBAAgB,GAAGiB,MAAM,CAAC,CAAD,CAAzB;;AACA,WAAQP,SAAS,GAAGQ,SAAS,EAA7B,EAAkC;AAChCF,MAAAA,kBAAkB;;AAClB,UAAIhB,gBAAgB,EAApB,EAAwB;AACtBgB,QAAAA,kBAAkB;AACnB;;AACDJ,MAAAA,OAAO,GAAGT,WAAV;AACAgB,MAAAA,UAAU,GAAGzB,kBAAkB,CAACgB,SAAD,CAA/B;;AACA,aAAQC,MAAM,GAAGQ,UAAU,EAA3B,EAAgC;AAC9B,YAAI,CAACN,QAAQ,GAAGD,OAAO,CAACD,MAAD,CAAnB,MAAiC,KAAK,CAA1C,EAA6C;AAC3C;AACD;;AACDC,QAAAA,OAAO,GAAG,EAAV;AACAE,QAAAA,kBAAkB,GAAG,CAAC,CAAtB;;AACA,gBAAQM,MAAM,CAAC7C,SAAP,CAAiB8C,QAAjB,CAA0BC,IAA1B,CAA+BT,QAA/B,CAAR;AACE,eAAK,gBAAL;AACED,YAAAA,OAAO,GAAGC,QAAQ,CAAC,CAAD,CAAlB;AACAC,YAAAA,kBAAkB,GAAGD,QAAQ,CAAC,CAAD,CAA7B;AACA;;AACF,eAAK,iBAAL;AACED,YAAAA,OAAO,GAAGC,QAAV;AACA;;AACF,eAAK,iBAAL;AACEC,YAAAA,kBAAkB,GAAGD,QAArB;AACA;AAVJ;;AAYA,YAAIC,kBAAkB,GAAG,CAAzB,EAA4B;AAC1B;AACD;;AACD,YAAI,CAACZ,WAAW,CAACY,kBAAD,CAAX,CAAgCS,MAArC,EAA6C;AAC3CrB,UAAAA,WAAW,CAACY,kBAAD,CAAX,GAAkCZ,WAAW,CAC3CY,kBAD2C,CAAX,CAEhChB,KAFgC,CAE1B,EAF0B,CAAlC;AAGD;;AACDiB,QAAAA,aAAa,GAAGb,WAAW,CAACY,kBAAD,CAA3B;;AACA,aAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,aAAa,CAAC7C,MAAlC,EAA0CsD,CAAC,EAA3C,EACEnB,MAAM,CAACW,kBAAkB,GAAGQ,CAAtB,CAAN,GAAiCC,IAAI,CAACC,GAAL,CAC/BX,aAAa,CAACS,CAAD,CADkB,EAE/BnB,MAAM,CAACW,kBAAkB,GAAGQ,CAAtB,CAFyB,CAAjC;AAIH;AACF;;AACDnB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAACA,MAAM,CAACnC,MAAP,GAAgB,CAAjB,CAAN,GAA4BmC,MAAM,CACxDA,MAAM,CAACnC,MAAP,GAAgB,CADwC,CAAN,GAEhD,CAFJ;AAGA,QAAIyD,cAAc,GAAG,EAArB;;AACA,SAAK,IAAI5D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsC,MAAM,CAACnC,MAA3B,EAAmCH,CAAC,EAApC,EAAwC;AACtC4D,MAAAA,cAAc,IACZ,CAACtB,MAAM,CAACtC,CAAD,CAAN,GAAY,CAAZ,KAAkB,CAAlB,GAAsBgB,UAAtB,GAAmC,EAApC,IAA0Cd,IAAI,CAACE,MAAL,CAAYJ,CAAZ,CAD5C;AAED;;AACD,WAAO4D,cAAP;AACD;;AAED,WAASC,KAAT,CACE3D,IADF,EAEEiC,WAFF,EAGE2B,QAHF,EAIEC,KAJF,EAKE1B,KALF,EAMErB,UANF,EAOEgD,QAPF,EAQE7C,aARF,EASE8C,OATF,EAUE;AACA,aAASC,IAAT,GAAgB;AACdC,MAAAA,cAAc,CAACC,OAAD,CAAd;AACD;;AACD,QAAIA,OAAO,GAAG,EAAd;AAAA,QACEC,SADF;AAAA,QAEEC,QAAQ,GAAG1E,gBAAgB,CACzBqB,yBAAyB,CACvB,CAAC+C,QAAQ,GAAG,CAACrD,kBAAkB,EAAnB,CAAH,GAA4B,EAArC,EAAyC4D,MAAzC,CACExD,wBAAwB,CAACC,UAAD,CAD1B,CADuB,EAIvBG,aAJuB,CADA,CAF7B;AAAA,QAUEgD,cAAc,GAAG,YAAY,CAAE,CAVjC;;AAWA,aAASK,QAAT,GAAoB;AAClB,UAAIC,SAAS,GAAG,eAAgB,IAAIC,IAAJ,EAAhC;;AACA,aACE,CAAC,CAACT,OAAD,IAAY,eAAgB,IAAIS,IAAJ,KAAaD,SAAb,GAAyB,EAAtD,MACCJ,SAAS,GAAGC,QAAQ,CAACpE,IAAD,CADrB,CADF,EAGE;AACA,YAAImE,SAAS,CAAC,CAAD,CAAb,EAAkB;AAChB,cAAIM,QAAQ,GAAGN,SAAS,CAAC,CAAD,CAAT,CAAalE,MAAb,GAAsB,MAAMkE,SAAS,CAAC,CAAD,CAArC,GAA2C,EAA1D;;AACA,cAAIN,KAAK,CAACY,QAAD,CAAL,KAAoB,KAAK,CAA7B,EAAgC;AAC9BZ,YAAAA,KAAK,CAACY,QAAD,CAAL,GAAkBzC,aAAa,CAC7BmC,SAAS,CAAC,CAAD,CADoB,EAE7BlC,WAF6B,EAG7B2B,QAH6B,EAI7BzB,KAJ6B,EAK7BrB,UAL6B,CAA/B;AAOD;;AACDqD,UAAAA,SAAS,CAAC,CAAD,CAAT,GAAeN,KAAK,CAACY,QAAD,CAApB;AACD;;AACDP,QAAAA,OAAO,IAAIC,SAAS,CAAC,CAAD,CAAT,GAAeA,SAAS,CAAC,CAAD,CAAnC;AACD;;AACD,UAAI,CAACA,SAAL,EAAgB;AACdH,QAAAA,IAAI;AACL,OAFD,MAEO;AACLU,QAAAA,UAAU,CAACJ,QAAD,CAAV;AACD;AACF;;AACD,QAAIP,OAAJ,EAAa;AACXW,MAAAA,UAAU,CAACJ,QAAD,CAAV;AACA,aAAO,IAAIK,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACpCX,QAAAA,cAAc,GAAGW,OAAjB;AACD,OAFM,CAAP;AAGD,KALD,MAKO;AACLN,MAAAA,QAAQ;AACR,aAAOJ,OAAP;AACD;AACF;;AAED,MAAIW,qBAAqB,GAAG,KAA5B;AACA,MAAIC,qBAAqB,GAAG,KAA5B;AACA,MAAIC,0BAA0B,GAAG,EAAjC;AACA,MAAIC,oBAAoB,GAAG,IAA3B;AACA,MAAIC,yBAAyB,GAAG,MAAhC;AACA,MAAIC,+BAA+B,GAAG,CAAtC;AACA,MAAIC,kBAAkB,GAAG,OAAzB;AACA,MAAIC,kBAAkB,GAAG,OAAzB;AACA,MAAIC,uBAAuB,GAAG,YAA9B;AACA,MAAIC,iBAAiB,GAAG,MAAxB;AACA,MAAIC,sBAAsB,GAAG,YAA7B;AACA,MAAIC,4BAA4B,GAAG,eAAnC;;AACA,MAAIC,OAAO,GACT,OAAOC,MAAP,KAAkB,QAAlB,GACIA,MADJ,GAEI,OAAOC,MAAP,KAAkB,QAAlB,GACAA,MADA,GAEA,OAAOC,IAAP,KAAgB,QAAhB,GACAA,IADA,GAEA,QACA,KAAK,CADL,GAEA,EATN;;AAUA,WAASC,MAAT,CAAgBC,MAAhB,EAAwBC,MAAxB,EAAgC;AAC9BD,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;AACA,SAAK,IAAIE,GAAT,IAAgBD,MAAhB,EAAwB;AACtBD,MAAAA,MAAM,CAACE,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AACD;;AACD,WAAOF,MAAP;AACD;;AACD,WAASG,aAAT,CAAuB5E,KAAvB,EAA8B;AAC5B,WAAOA,KAAK,YAAYgB,KAAxB;AACD;;AACD,WAAS6D,YAAT,CAAsBC,MAAtB,EAA8BH,GAA9B,EAAmCI,YAAnC,EAAiD7F,IAAjD,EAAuD;AACrD,QAAIyF,GAAG,IAAIG,MAAP,KAAkB5F,IAAI,GAAGA,IAAI,CAAC4F,MAAM,CAACH,GAAD,CAAP,CAAP,GAAuB,IAA7C,CAAJ,EAAwD;AACtD,aAAOG,MAAM,CAACH,GAAD,CAAb;AACD;;AACD,WAAOI,YAAP;AACD;;AACD,WAASC,wBAAT,CAAkCC,aAAlC,EAAiDxF,UAAjD,EAA6D;AAC3D,WAAOwF,aAAa,CAAChF,MAAd,CAAqB,UAAUiF,UAAV,EAAsBC,SAAtB,EAAiC;AAC3DD,MAAAA,UAAU,CAAC,MAAMC,SAAS,CAACC,OAAV,CAAkB,KAAlB,EAAyB,EAAzB,CAAP,CAAV,GAAiDD,SAAS,CAACC,OAAV,CAC/C,KAD+C,EAE/C3F,UAF+C,CAAjD;AAIA,aAAOyF,UAAP;AACD,KANM,EAMJ,EANI,CAAP;AAOD;;AACD,WAAS9G,gBAAT,CAA0BiH,kBAA1B,EAA8CC,OAA9C,EAAuD;AACrDA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,QAAIC,SAAS,GAAGV,YAAY,CACxBS,OADwB,EAExBxB,kBAFwB,EAGxBN,qBAHwB,CAA5B;AAAA,QAKEgC,MAAM,GAAG,EALX;AAAA,QAME1E,KAAK,GAAG+D,YAAY,CAACS,OAAD,EAAUvB,kBAAV,EAA8BN,qBAA9B,CANtB;AAAA,QAOEyB,UAAU,GAAG,EAPf;AAAA,QAQEzF,UAAU,GAAGoF,YAAY,CACvBS,OADuB,EAEvBpB,sBAFuB,EAGvBN,yBAHuB,CAR3B;AAAA,QAaEhD,WAAW,GAAGyE,kBAAkB,CAAC,CAAD,CAAlB,CAAsBlE,KAAtB,CAA4B,GAA5B,CAbhB;AAAA,QAcEoB,QAAQ,GAAGkD,IAAI,CAACC,KAAL,CAAWL,kBAAkB,CAAC,CAAD,CAA7B,CAdb;AAAA,QAeEzF,aAAa,GACXiF,YAAY,CACVS,OADU,EAEVnB,4BAFU,EAGVN,+BAHU,CAAZ,IAIK,CApBT;AAAA,QAqBEpB,QAAQ,GAAGoC,YAAY,CAACS,OAAD,EAAUrB,iBAAV,EAA6BN,oBAA7B,CArBzB;AAAA,QAsBEgC,cAAc,GAAGd,YAAY,CAC3BS,OAD2B,EAE3BtB,uBAF2B,EAG3BN,0BAH2B,EAI3BkB,aAJ2B,CAtB/B;AA4BA,QAAIxB,QAAQ,GAAG3D,UAAU,GAAGG,aAA5B;AACAsF,IAAAA,UAAU,CAAC9B,QAAD,CAAV,GAAuB,EAAvB;;AACA,QAAIiC,kBAAkB,CAAC,CAAD,CAAtB,EAA2B;AACzBH,MAAAA,UAAU,CAAC9B,QAAD,CAAV,GAAuB4B,wBAAwB,CAC7CK,kBAAkB,CAAC,CAAD,CAD2B,EAE7C5F,UAF6C,CAA/C;AAID;;AACD,QAAIkG,cAAc,IAAIA,cAAc,CAAC/G,MAArC,EAA6C;AAC3CsG,MAAAA,UAAU,CAAC9B,QAAD,CAAV,GAAuBoB,MAAM,CAC3BU,UAAU,CAAC9B,QAAD,CADiB,EAE3B4B,wBAAwB,CAACW,cAAD,EAAiBlG,UAAjB,CAFG,CAA7B;AAID;;AACD+F,IAAAA,MAAM,CAACpC,QAAD,CAAN,GAAmBoB,MAAM,CAAC,EAAD,EAAKU,UAAU,CAAC9B,QAAD,CAAf,CAAzB;;AACA,QAAImC,SAAS,IAAI,EAAE,aAAanB,OAAf,CAAjB,EAA0C;AACxC,YAAM,IAAIwB,KAAJ,CACJ,gHADI,CAAN;AAGD;;AACD,WAAO,UAAUjH,IAAV,EAAgBkH,QAAhB,EAA0B;AAC/BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,EAAvB;AACA,UAAIC,UAAU,GAAGjB,YAAY,CAACgB,QAAD,EAAW9B,kBAAX,EAA+BjD,KAA/B,CAA7B;AAAA,UACEiF,eAAe,GAAGlB,YAAY,CAC5BgB,QAD4B,EAE5B3B,sBAF4B,EAG5BzE,UAH4B,CADhC;AAAA,UAMEuG,kBAAkB,GAChBnB,YAAY,CAACgB,QAAD,EAAW1B,4BAAX,EAAyCvE,aAAzC,CAAZ,IACA,CARJ;AAAA,UASEqG,mBAAmB,GAAGpB,YAAY,CAChCgB,QADgC,EAEhC7B,uBAFgC,EAGhCN,0BAHgC,EAIhCkB,aAJgC,CATpC;AAAA,UAeEsB,SAAS,GAAGH,eAAe,GAAGC,kBAfhC;;AAgBA,UAAI,CAACd,UAAU,CAACgB,SAAD,CAAX,IAA0Bb,kBAAkB,CAAC,CAAD,CAAhD,EAAqD;AACnDH,QAAAA,UAAU,CAACgB,SAAD,CAAV,GAAwBlB,wBAAwB,CAC9CK,kBAAkB,CAAC,CAAD,CAD4B,EAE9CU,eAF8C,CAAhD;AAIAP,QAAAA,MAAM,CAACU,SAAD,CAAN,GAAoB1B,MAAM,CAACgB,MAAM,CAACU,SAAD,CAAP,EAAoBhB,UAAU,CAACgB,SAAD,CAA9B,CAA1B;AACD;;AACD,UAAID,mBAAmB,IAAIA,mBAAmB,CAACrH,MAA/C,EAAuD;AACrDsG,QAAAA,UAAU,CAACgB,SAAD,CAAV,GAAwB1B,MAAM,CAC5BU,UAAU,CAACgB,SAAD,CADkB,EAE5BlB,wBAAwB,CAACiB,mBAAD,EAAsBF,eAAtB,CAFI,CAA9B;AAIAP,QAAAA,MAAM,CAACU,SAAD,CAAN,GAAoB1B,MAAM,CAACgB,MAAM,CAACU,SAAD,CAAP,EAAoBhB,UAAU,CAACgB,SAAD,CAA9B,CAA1B;AACD;;AACD,aAAO5D,KAAK,CACV3D,IADU,EAEViC,WAFU,EAGV2B,QAHU,EAIViD,MAAM,CAACU,SAAD,CAJI,EAKVJ,UALU,EAMVC,eANU,EAOVtD,QAPU,EAQVuD,kBARU,EASVT,SATU,CAAZ;AAWD,KA3CD;AA4CD;;AAED,SAAOnH,gBAAP;AACD,CApZD","sourcesContent":["/** Text hyphenation in Javascript.\r\n *  Copyright (C) 2024 Yevhen Tiurin (yevhentiurin@gmail.com)\r\n *  https://github.com/ytiurin/hyphen\r\n *\r\n *  Released under the ISC license\r\n *  https://github.com/ytiurin/hyphen/blob/master/LICENSE\r\n */\r\n(function (root, factory) {\r\n  if (typeof define === \"function\" && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define([], factory);\r\n  } else if (typeof module === \"object\" && module.exports) {\r\n    // Node. Does not work with strict CommonJS, but\r\n    // only CommonJS-like environments that support module.exports,\r\n    // like Node.\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals (root is window)\r\n    root.createHyphenator = factory();\r\n  }\r\n})(this, function () {\r\n  function createTextReader(setup) {\r\n    var char1 = \"\";\r\n    var char2 = \"\";\r\n    var i = 0;\r\n    var verifier = setup();\r\n    return function (text) {\r\n      while (i < text.length) {\r\n        char1 = text.charAt(i++);\r\n        char2 = text.charAt(i);\r\n        var verified = verifier(char1, char2);\r\n        if (verified !== void 0) {\r\n          return verified;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  var isNotLetter = RegExp.prototype.test.bind(\r\n    /\\s|(?![\\'])[\\!-\\@\\[-\\`\\{-\\~\\u2013-\\u203C]/\r\n  );\r\n  function createHTMLVerifier() {\r\n    var skip = false;\r\n    return function (accumulate, chars) {\r\n      if (skip) {\r\n        if (chars[0] === \">\") {\r\n          accumulate();\r\n          skip = false;\r\n        }\r\n      } else if (\r\n        chars[0] === \"<\" &&\r\n        (!isNotLetter(chars[1]) || chars[1] === \"/\")\r\n      ) {\r\n        skip = true;\r\n      }\r\n      return skip;\r\n    };\r\n  }\r\n  function createHyphenCharVerifier(hyphenChar) {\r\n    var skip = false;\r\n    return function (accumulate, chars) {\r\n      if (skip) {\r\n        if (!isNotLetter(chars[0]) && isNotLetter(chars[1])) {\r\n          accumulate();\r\n          skip = false;\r\n        }\r\n      } else if (!isNotLetter(chars[0]) && chars[1] === hyphenChar) {\r\n        skip = true;\r\n      }\r\n      return skip;\r\n    };\r\n  }\r\n  function createHyphenationVerifier(verifiers, minWordLength) {\r\n    return function () {\r\n      var accum0 = \"\";\r\n      var accum = \"\";\r\n      function accumulate() {\r\n        accum0 += accum;\r\n        accum = \"\";\r\n      }\r\n      function resolveWith(value) {\r\n        accum0 = \"\";\r\n        accum = \"\";\r\n        return value;\r\n      }\r\n      return function (char1, char2) {\r\n        accum += char1;\r\n        var skip = verifiers.reduce(function (skip2, verify) {\r\n          return skip2 || verify(accumulate, [char1, char2]);\r\n        }, false);\r\n        if (!skip) {\r\n          if (isNotLetter(char1) && !isNotLetter(char2)) {\r\n            accumulate();\r\n          }\r\n          if (!isNotLetter(char1) && isNotLetter(char2)) {\r\n            if (accum.length >= minWordLength) {\r\n              return resolveWith([accum0, accum]);\r\n            } else {\r\n              accumulate();\r\n            }\r\n          }\r\n        }\r\n        if (char2 === \"\") {\r\n          if (accum.length < minWordLength || skip) {\r\n            accumulate();\r\n          }\r\n          return resolveWith([accum0, accum]);\r\n        }\r\n      };\r\n    };\r\n  }\r\n\r\n  function createCharIterator(str) {\r\n    var i = 0;\r\n    function nextChar() {\r\n      return str[i++];\r\n    }\r\n    return nextChar;\r\n  }\r\n  function createStringSlicer(str) {\r\n    var i = 0,\r\n      slice = str;\r\n    function next() {\r\n      slice = str.slice(i++);\r\n      if (slice.length < 3) {\r\n        return;\r\n      }\r\n      return slice;\r\n    }\r\n    function isFirstCharacter() {\r\n      return i === 2;\r\n    }\r\n    return [next, isFirstCharacter];\r\n  }\r\n  function hyphenateWord(text, levelsTable, patternTrie, debug, hyphenChar) {\r\n    var levels = new Array(text.length + 1),\r\n      loweredText = (\".\" + text.toLocaleLowerCase() + \".\").split(\"\"),\r\n      wordSlice,\r\n      letter,\r\n      triePtr,\r\n      trieNode,\r\n      patternLevelsIndex,\r\n      patternLevels,\r\n      patternEntityIndex = -1,\r\n      slicer,\r\n      nextSlice,\r\n      isFirstCharacter,\r\n      nextLetter;\r\n    for (var i = levels.length; i--; ) levels[i] = 0;\r\n    slicer = createStringSlicer(loweredText);\r\n    nextSlice = slicer[0];\r\n    isFirstCharacter = slicer[1];\r\n    while ((wordSlice = nextSlice())) {\r\n      patternEntityIndex++;\r\n      if (isFirstCharacter()) {\r\n        patternEntityIndex--;\r\n      }\r\n      triePtr = patternTrie;\r\n      nextLetter = createCharIterator(wordSlice);\r\n      while ((letter = nextLetter())) {\r\n        if ((trieNode = triePtr[letter]) === void 0) {\r\n          break;\r\n        }\r\n        triePtr = {};\r\n        patternLevelsIndex = -1;\r\n        switch (Object.prototype.toString.call(trieNode)) {\r\n          case \"[object Array]\":\r\n            triePtr = trieNode[0];\r\n            patternLevelsIndex = trieNode[1];\r\n            break;\r\n          case \"[object Object]\":\r\n            triePtr = trieNode;\r\n            break;\r\n          case \"[object Number]\":\r\n            patternLevelsIndex = trieNode;\r\n            break;\r\n        }\r\n        if (patternLevelsIndex < 0) {\r\n          continue;\r\n        }\r\n        if (!levelsTable[patternLevelsIndex].splice) {\r\n          levelsTable[patternLevelsIndex] = levelsTable[\r\n            patternLevelsIndex\r\n          ].slice(\"\");\r\n        }\r\n        patternLevels = levelsTable[patternLevelsIndex];\r\n        for (var k = 0; k < patternLevels.length; k++)\r\n          levels[patternEntityIndex + k] = Math.max(\r\n            patternLevels[k],\r\n            levels[patternEntityIndex + k]\r\n          );\r\n      }\r\n    }\r\n    levels[0] = levels[1] = levels[levels.length - 1] = levels[\r\n      levels.length - 2\r\n    ] = 0;\r\n    var hyphenatedText = \"\";\r\n    for (var i = 0; i < levels.length; i++) {\r\n      hyphenatedText +=\r\n        (levels[i] % 2 === 1 ? hyphenChar : \"\") + text.charAt(i);\r\n    }\r\n    return hyphenatedText;\r\n  }\r\n\r\n  function start(\r\n    text,\r\n    levelsTable,\r\n    patterns,\r\n    cache,\r\n    debug,\r\n    hyphenChar,\r\n    skipHTML,\r\n    minWordLength,\r\n    isAsync\r\n  ) {\r\n    function done() {\r\n      resolveNewText(newText);\r\n    }\r\n    var newText = \"\",\r\n      fragments,\r\n      readText = createTextReader(\r\n        createHyphenationVerifier(\r\n          (skipHTML ? [createHTMLVerifier()] : []).concat(\r\n            createHyphenCharVerifier(hyphenChar)\r\n          ),\r\n          minWordLength\r\n        )\r\n      ),\r\n      resolveNewText = function () {};\r\n    function nextTick() {\r\n      var loopStart = /* @__PURE__ */ new Date();\r\n      while (\r\n        (!isAsync || /* @__PURE__ */ new Date() - loopStart < 10) &&\r\n        (fragments = readText(text))\r\n      ) {\r\n        if (fragments[1]) {\r\n          var cacheKey = fragments[1].length ? \"~\" + fragments[1] : \"\";\r\n          if (cache[cacheKey] === void 0) {\r\n            cache[cacheKey] = hyphenateWord(\r\n              fragments[1],\r\n              levelsTable,\r\n              patterns,\r\n              debug,\r\n              hyphenChar\r\n            );\r\n          }\r\n          fragments[1] = cache[cacheKey];\r\n        }\r\n        newText += fragments[0] + fragments[1];\r\n      }\r\n      if (!fragments) {\r\n        done();\r\n      } else {\r\n        setTimeout(nextTick);\r\n      }\r\n    }\r\n    if (isAsync) {\r\n      setTimeout(nextTick);\r\n      return new Promise(function (resolve) {\r\n        resolveNewText = resolve;\r\n      });\r\n    } else {\r\n      nextTick();\r\n      return newText;\r\n    }\r\n  }\r\n\r\n  var SETTING_DEFAULT_ASYNC = false;\r\n  var SETTING_DEFAULT_DEBUG = false;\r\n  var SETTING_DEFAULT_EXCEPTIONS = [];\r\n  var SETTING_DEFAULT_HTML = true;\r\n  var SETTING_DEFAULT_HYPH_CHAR = \"\\xAD\";\r\n  var SETTING_DEFAULT_MIN_WORD_LENGTH = 5;\r\n  var SETTING_NAME_ASYNC = \"async\";\r\n  var SETTING_NAME_DEBUG = \"debug\";\r\n  var SETTING_NAME_EXCEPTIONS = \"exceptions\";\r\n  var SETTING_NAME_HTML = \"html\";\r\n  var SETTING_NAME_HYPH_CHAR = \"hyphenChar\";\r\n  var SETTING_NAME_MIN_WORD_LENGTH = \"minWordLength\";\r\n  var _global =\r\n    typeof global === \"object\"\r\n      ? global\r\n      : typeof window === \"object\"\r\n      ? window\r\n      : typeof self === \"object\"\r\n      ? self\r\n      : false\r\n      ? void 0\r\n      : {};\r\n  function extend(target, source) {\r\n    target = target || {};\r\n    for (var key in source) {\r\n      target[key] = source[key];\r\n    }\r\n    return target;\r\n  }\r\n  function validateArray(value) {\r\n    return value instanceof Array;\r\n  }\r\n  function keyOrDefault(object, key, defaultValue, test) {\r\n    if (key in object && (test ? test(object[key]) : true)) {\r\n      return object[key];\r\n    }\r\n    return defaultValue;\r\n  }\r\n  function exceptionsFromDefinition(excetionsList, hyphenChar) {\r\n    return excetionsList.reduce(function (exceptions, exception) {\r\n      exceptions[\"~\" + exception.replace(/\\-/g, \"\")] = exception.replace(\r\n        /\\-/g,\r\n        hyphenChar\r\n      );\r\n      return exceptions;\r\n    }, {});\r\n  }\r\n  function createHyphenator(patternsDefinition, options) {\r\n    options = options || {};\r\n    var asyncMode = keyOrDefault(\r\n        options,\r\n        SETTING_NAME_ASYNC,\r\n        SETTING_DEFAULT_ASYNC\r\n      ),\r\n      caches = {},\r\n      debug = keyOrDefault(options, SETTING_NAME_DEBUG, SETTING_DEFAULT_DEBUG),\r\n      exceptions = {},\r\n      hyphenChar = keyOrDefault(\r\n        options,\r\n        SETTING_NAME_HYPH_CHAR,\r\n        SETTING_DEFAULT_HYPH_CHAR\r\n      ),\r\n      levelsTable = patternsDefinition[0].split(\",\"),\r\n      patterns = JSON.parse(patternsDefinition[1]),\r\n      minWordLength =\r\n        keyOrDefault(\r\n          options,\r\n          SETTING_NAME_MIN_WORD_LENGTH,\r\n          SETTING_DEFAULT_MIN_WORD_LENGTH\r\n        ) >> 0,\r\n      skipHTML = keyOrDefault(options, SETTING_NAME_HTML, SETTING_DEFAULT_HTML),\r\n      userExceptions = keyOrDefault(\r\n        options,\r\n        SETTING_NAME_EXCEPTIONS,\r\n        SETTING_DEFAULT_EXCEPTIONS,\r\n        validateArray\r\n      );\r\n    var cacheKey = hyphenChar + minWordLength;\r\n    exceptions[cacheKey] = {};\r\n    if (patternsDefinition[2]) {\r\n      exceptions[cacheKey] = exceptionsFromDefinition(\r\n        patternsDefinition[2],\r\n        hyphenChar\r\n      );\r\n    }\r\n    if (userExceptions && userExceptions.length) {\r\n      exceptions[cacheKey] = extend(\r\n        exceptions[cacheKey],\r\n        exceptionsFromDefinition(userExceptions, hyphenChar)\r\n      );\r\n    }\r\n    caches[cacheKey] = extend({}, exceptions[cacheKey]);\r\n    if (asyncMode && !(\"Promise\" in _global)) {\r\n      throw new Error(\r\n        \"Failed to create hyphenator: Could not find global Promise object, needed for hyphenator to work in async mode\"\r\n      );\r\n    }\r\n    return function (text, options2) {\r\n      options2 = options2 || {};\r\n      var localDebug = keyOrDefault(options2, SETTING_NAME_DEBUG, debug),\r\n        localHyphenChar = keyOrDefault(\r\n          options2,\r\n          SETTING_NAME_HYPH_CHAR,\r\n          hyphenChar\r\n        ),\r\n        localMinWordLength =\r\n          keyOrDefault(options2, SETTING_NAME_MIN_WORD_LENGTH, minWordLength) >>\r\n          0,\r\n        localUserExceptions = keyOrDefault(\r\n          options2,\r\n          SETTING_NAME_EXCEPTIONS,\r\n          SETTING_DEFAULT_EXCEPTIONS,\r\n          validateArray\r\n        ),\r\n        cacheKey2 = localHyphenChar + localMinWordLength;\r\n      if (!exceptions[cacheKey2] && patternsDefinition[2]) {\r\n        exceptions[cacheKey2] = exceptionsFromDefinition(\r\n          patternsDefinition[2],\r\n          localHyphenChar\r\n        );\r\n        caches[cacheKey2] = extend(caches[cacheKey2], exceptions[cacheKey2]);\r\n      }\r\n      if (localUserExceptions && localUserExceptions.length) {\r\n        exceptions[cacheKey2] = extend(\r\n          exceptions[cacheKey2],\r\n          exceptionsFromDefinition(localUserExceptions, localHyphenChar)\r\n        );\r\n        caches[cacheKey2] = extend(caches[cacheKey2], exceptions[cacheKey2]);\r\n      }\r\n      return start(\r\n        text,\r\n        levelsTable,\r\n        patterns,\r\n        caches[cacheKey2],\r\n        localDebug,\r\n        localHyphenChar,\r\n        skipHTML,\r\n        localMinWordLength,\r\n        asyncMode\r\n      );\r\n    };\r\n  }\r\n\r\n  return createHyphenator;\r\n});\r\n"]},"metadata":{},"sourceType":"script"}