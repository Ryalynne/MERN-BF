{"ast":null,"code":"import * as r from \"restructure\";\nimport DACMarker from \"./markers/dac.js\";\nimport DefineHuffmanTableMarker from \"./markers/dht.js\";\nimport DQTMarker from \"./markers/dqt.js\";\nimport DRIMarker from \"./markers/dri.js\";\nimport EndOfImageMarker from \"./markers/eoi.js\";\nimport EXIFMarker from \"./markers/exif.js\";\nimport JFIFMarker from \"./markers/jfif.js\";\nimport SOSMarker from \"./markers/sos.js\";\nimport StartOfFrameMarker from \"./markers/sof.js\";\nimport StartOfImageMarker from \"./markers/soi.js\";\nconst UnknownMarker = {\n  length: r.uint16be,\n  buf: new r.Buffer(parent => parent.length - 2)\n};\nconst unknownMarkers = Array(63).fill(0).reduce((acc, v, i) => ({ ...acc,\n  [i + 0xffc0]: UnknownMarker\n}), {});\nconst Marker = new r.VersionedStruct(r.uint16be, { ...unknownMarkers,\n  0xffc0: StartOfFrameMarker,\n  0xffc1: StartOfFrameMarker,\n  0xffc2: StartOfFrameMarker,\n  0xffc3: StartOfFrameMarker,\n  0xffc4: DefineHuffmanTableMarker,\n  0xffc5: StartOfFrameMarker,\n  0xffc6: StartOfFrameMarker,\n  0xffc7: StartOfFrameMarker,\n  0xffc9: StartOfFrameMarker,\n  0xffca: StartOfFrameMarker,\n  0xffcb: StartOfFrameMarker,\n  0xffcc: DACMarker,\n  0xffcd: StartOfFrameMarker,\n  0xffce: StartOfFrameMarker,\n  0xffcf: StartOfFrameMarker,\n  0xffd8: StartOfImageMarker,\n  0xffd9: EndOfImageMarker,\n  0xffda: SOSMarker,\n  0xffdb: DQTMarker,\n  0xffdd: DRIMarker,\n  0xffe0: JFIFMarker,\n  0xffe1: EXIFMarker\n});\nconst JPEG = new r.Array(Marker);\n\nconst decode = buffer => {\n  const markers = JPEG.fromBuffer(buffer);\n  return markers.map(_ref => {\n    let {\n      version,\n      ...rest\n    } = _ref;\n    return {\n      type: version,\n      ...rest\n    };\n  });\n};\n\nexport default {\n  decode\n};","map":{"version":3,"sources":["C:/Users/PC/Documents/PROGRAMMING/New folder/MERN-BF/frontend/node_modules/jay-peg/src/index.js"],"names":["r","DACMarker","DefineHuffmanTableMarker","DQTMarker","DRIMarker","EndOfImageMarker","EXIFMarker","JFIFMarker","SOSMarker","StartOfFrameMarker","StartOfImageMarker","UnknownMarker","length","uint16be","buf","Buffer","parent","unknownMarkers","Array","fill","reduce","acc","v","i","Marker","VersionedStruct","JPEG","decode","buffer","markers","fromBuffer","map","version","rest","type"],"mappings":"AAAA,OAAO,KAAKA,CAAZ,MAAmB,aAAnB;AAEA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,wBAAP,MAAqC,kBAArC;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,gBAAP,MAA6B,kBAA7B;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,kBAAP,MAA+B,kBAA/B;AACA,OAAOC,kBAAP,MAA+B,kBAA/B;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,MAAM,EAAEZ,CAAC,CAACa,QADU;AAEpBC,EAAAA,GAAG,EAAE,IAAId,CAAC,CAACe,MAAN,CAAcC,MAAD,IAAYA,MAAM,CAACJ,MAAP,GAAgB,CAAzC;AAFe,CAAtB;AAKA,MAAMK,cAAc,GAAGC,KAAK,CAAC,EAAD,CAAL,CACpBC,IADoB,CACf,CADe,EAEpBC,MAFoB,CAEb,CAACC,GAAD,EAAMC,CAAN,EAASC,CAAT,MAAgB,EAAE,GAAGF,GAAL;AAAU,GAACE,CAAC,GAAG,MAAL,GAAcZ;AAAxB,CAAhB,CAFa,EAE6C,EAF7C,CAAvB;AAIA,MAAMa,MAAM,GAAG,IAAIxB,CAAC,CAACyB,eAAN,CAAsBzB,CAAC,CAACa,QAAxB,EAAkC,EAC/C,GAAGI,cAD4C;AAE/C,UAAQR,kBAFuC;AAG/C,UAAQA,kBAHuC;AAI/C,UAAQA,kBAJuC;AAK/C,UAAQA,kBALuC;AAM/C,UAAQP,wBANuC;AAO/C,UAAQO,kBAPuC;AAQ/C,UAAQA,kBARuC;AAS/C,UAAQA,kBATuC;AAU/C,UAAQA,kBAVuC;AAW/C,UAAQA,kBAXuC;AAY/C,UAAQA,kBAZuC;AAa/C,UAAQR,SAbuC;AAc/C,UAAQQ,kBAduC;AAe/C,UAAQA,kBAfuC;AAgB/C,UAAQA,kBAhBuC;AAiB/C,UAAQC,kBAjBuC;AAkB/C,UAAQL,gBAlBuC;AAmB/C,UAAQG,SAnBuC;AAoB/C,UAAQL,SApBuC;AAqB/C,UAAQC,SArBuC;AAsB/C,UAAQG,UAtBuC;AAuB/C,UAAQD;AAvBuC,CAAlC,CAAf;AA0BA,MAAMoB,IAAI,GAAG,IAAI1B,CAAC,CAACkB,KAAN,CAAYM,MAAZ,CAAb;;AAEA,MAAMG,MAAM,GAAIC,MAAD,IAAY;AACzB,QAAMC,OAAO,GAAGH,IAAI,CAACI,UAAL,CAAgBF,MAAhB,CAAhB;AACA,SAAOC,OAAO,CAACE,GAAR,CAAY;AAAA,QAAC;AAAEC,MAAAA,OAAF;AAAW,SAAGC;AAAd,KAAD;AAAA,WAA2B;AAAEC,MAAAA,IAAI,EAAEF,OAAR;AAAiB,SAAGC;AAApB,KAA3B;AAAA,GAAZ,CAAP;AACD,CAHD;;AAKA,eAAe;AAAEN,EAAAA;AAAF,CAAf","sourcesContent":["import * as r from \"restructure\";\r\n\r\nimport DACMarker from \"./markers/dac.js\";\r\nimport DefineHuffmanTableMarker from \"./markers/dht.js\";\r\nimport DQTMarker from \"./markers/dqt.js\";\r\nimport DRIMarker from \"./markers/dri.js\";\r\nimport EndOfImageMarker from \"./markers/eoi.js\";\r\nimport EXIFMarker from \"./markers/exif.js\";\r\nimport JFIFMarker from \"./markers/jfif.js\";\r\nimport SOSMarker from \"./markers/sos.js\";\r\nimport StartOfFrameMarker from \"./markers/sof.js\";\r\nimport StartOfImageMarker from \"./markers/soi.js\";\r\n\r\nconst UnknownMarker = {\r\n  length: r.uint16be,\r\n  buf: new r.Buffer((parent) => parent.length - 2),\r\n};\r\n\r\nconst unknownMarkers = Array(63)\r\n  .fill(0)\r\n  .reduce((acc, v, i) => ({ ...acc, [i + 0xffc0]: UnknownMarker }), {});\r\n\r\nconst Marker = new r.VersionedStruct(r.uint16be, {\r\n  ...unknownMarkers,\r\n  0xffc0: StartOfFrameMarker,\r\n  0xffc1: StartOfFrameMarker,\r\n  0xffc2: StartOfFrameMarker,\r\n  0xffc3: StartOfFrameMarker,\r\n  0xffc4: DefineHuffmanTableMarker,\r\n  0xffc5: StartOfFrameMarker,\r\n  0xffc6: StartOfFrameMarker,\r\n  0xffc7: StartOfFrameMarker,\r\n  0xffc9: StartOfFrameMarker,\r\n  0xffca: StartOfFrameMarker,\r\n  0xffcb: StartOfFrameMarker,\r\n  0xffcc: DACMarker,\r\n  0xffcd: StartOfFrameMarker,\r\n  0xffce: StartOfFrameMarker,\r\n  0xffcf: StartOfFrameMarker,\r\n  0xffd8: StartOfImageMarker,\r\n  0xffd9: EndOfImageMarker,\r\n  0xffda: SOSMarker,\r\n  0xffdb: DQTMarker,\r\n  0xffdd: DRIMarker,\r\n  0xffe0: JFIFMarker,\r\n  0xffe1: EXIFMarker,\r\n});\r\n\r\nconst JPEG = new r.Array(Marker);\r\n\r\nconst decode = (buffer) => {\r\n  const markers = JPEG.fromBuffer(buffer);\r\n  return markers.map(({ version, ...rest }) => ({ type: version, ...rest }));\r\n};\r\n\r\nexport default { decode };\r\n"]},"metadata":{},"sourceType":"module"}